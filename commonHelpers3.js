var W=Object.defineProperty;var X=(i,e,s)=>e in i?W(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var F=(i,e,s)=>(X(i,typeof e!="symbol"?e+"":e,s),s),N=(i,e,s)=>{if(!e.has(i))throw TypeError("Cannot "+s)};var t=(i,e,s)=>(N(i,e,"read from private field"),s?s.call(i):e.get(i)),r=(i,e,s)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,s)},n=(i,e,s,o)=>(N(i,e,"write to private field"),o?o.call(i,s):e.set(i,s),s),M=(i,e,s,o)=>({set _(h){n(i,e,h,s)},get _(){return t(i,e,o)}});import{g as H,K,c as Y,B as _,a as $,b as j}from"./assets/create-msg-af336f06.js";/* empty css                      */import"./assets/vendor-9310f15c.js";var l,a,m,f;class z{constructor(e,s,o){r(this,l,void 0);r(this,a,void 0);r(this,m,void 0);r(this,f,void 0);n(this,l,e),n(this,a,s),n(this,m,o),n(this,f,Array.from({length:o},()=>({display:!1,offset:0}))),this.setSlidesProperty()}set slidesPerPage(e){n(this,a,e)}get slidesPerPage(){return t(this,a)}get currentSlide(){return t(this,l)}set currentSlide(e){return n(this,l,e)}get slidesNumber(){return t(this,m)}set slidesNumber(e){return n(this,m,e)}setSlidesProperty(){t(this,f).forEach((e,s)=>{s>=t(this,l)&&s<t(this,l)+t(this,a)?e.display=!0:e.display=!1})}onPrevSlide(){t(this,l)>0&&(M(this,l)._--,t(this,f).forEach((e,s)=>{e.offset+=1})),this.setSlidesProperty()}onNextSlide(){t(this,l)<t(this,m)-t(this,a)&&(n(this,l,t(this,l)+1),t(this,f).forEach((e,s)=>{e.offset-=1})),this.setSlidesProperty()}goToSlide(e){const s=e-t(this,l);e<=t(this,m)-t(this,a)&&(n(this,l,t(this,l)+s),t(this,f).forEach(o=>{o.offset-=s})),this.setSlidesProperty()}isExistNext(){return t(this,l)>=t(this,m)-t(this,a)||t(this,m)<=t(this,a)}isExistPrev(){return t(this,l)===0||t(this,m)<=t(this,a)}isDisplaySlide(e){return t(this,f)[e].display}getOffsetSlide(e){return t(this,f)[e].offset}}l=new WeakMap,a=new WeakMap,m=new WeakMap,f=new WeakMap;var S,c,p,y,u,k,v,C,E,B;const T=class{constructor({currentSlide:e,slidesPerPage:s,prevBtnId:o,nextBtnId:h,dotsContainerId:b="",sliderContainerId:P="",slidesCounterId:w="",dotDefaultClass:R="slider-dot",dotActiveClass:O="active-dot",isDotContainText:A=!1,elementsList:G}){r(this,S,0);r(this,c,void 0);r(this,p,void 0);r(this,y,void 0);r(this,u,void 0);r(this,k,void 0);r(this,v,void 0);r(this,C,void 0);r(this,E,void 0);r(this,B,void 0);n(this,c,new z(e,s,G.length)),o&&n(this,p,document.getElementById(o)),h&&n(this,y,document.getElementById(h)),b&&(n(this,u,document.getElementById(b)),n(this,C,R),n(this,E,O),n(this,B,A)),P&&n(this,v,document.getElementById(P)),w&&n(this,k,document.getElementById(w)),this.init()}init(){this.initBtnsFunction(),t(this,v)&&this.initTouchFunction(),t(this,u)&&this.createDots()}update(){this.updateContent(),this.updateButtons(),this.updateDisplayDots(),this.updateCounter()}destroy(){this.removeBtnsFunction(),t(this,u)&&this.removeDots(),t(this,v)&&this.removeTouchFunction()}getCurrentSlide(){return t(this,c).currentSlide}initBtnsFunction(){t(this,p)&&t(this,p).addEventListener("click",this.onPrevBtnClick.bind(this)),t(this,y)&&t(this,y).addEventListener("click",this.onNextBtnClick.bind(this))}initTouchFunction(){n(this,S,0),t(this,v).addEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,v).addEventListener("touchmove",this.onSliderTouchMove.bind(this))}createDots(){t(this,u).innerHTML="";for(let e=0;e<t(this,c).slidesNumber;e+=1){const s=document.createElement("div");s.className=t(this,C),s.dataset.index=e,t(this,B)&&(s.textContent=`${e+1}`),t(this,u).appendChild(s)}t(this,u).addEventListener("click",this.onSliderDotsClick.bind(this))}updateContent(){console.log(TODO in children)}updateButtons(){t(this,p).disabled=t(this,c).isExistPrev(),t(this,y).disabled=t(this,c).isExistNext()}updateDisplayDots(){const e=t(this,u).children;for(let s=0;s<e.length;s+=1)s===t(this,c).currentSlide?e[s].classList.add(t(this,E)):e[s].classList.remove(t(this,E))}updateCounter(){t(this,k).textContent=`${t(this,c).currentSlide+1+"/"+t(this,c).slidesNumber}`}removeBtnsFunction(){t(this,p)&&t(this,p).removeEventListener("click",this.onPrevBtnClick.bind(this)),t(this,y)&&t(this,y).removeEventListener("click",this.onNextBtnClick.bind(this))}removeDots(){t(this,u).innerHTML="",t(this,u).removeEventListener("click",this.onSliderDotsClick.bind(this))}removeTouchFunction(){t(this,v).removeEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,v).removeEventListener("touchmove",this.onSliderTouchMove.bind(this))}onPrevBtnClick(){t(this,c).onPrevSlide(),this.update()}onNextBtnClick(){t(this,c).onNextSlide(),this.update()}onSliderDotsClick(e){const s=e.target;if(s.classList.contains(t(this,C))){const o=parseInt(s.dataset.index,10);t(this,c).goToSlide(o),this.update()}}onSliderTouchStart(e){n(this,S,e.touches[0].clientX)}onSliderTouchMove(e){const s=e.touches[0].clientX,o=t(this,S)-s;o>T.touchThreshold?(t(this,c).onNextSlide(),n(this,S,s),this.update()):o<-T.touchThreshold&&(t(this,c).onPrevSlide(),n(this,S,s),this.update())}};let x=T;S=new WeakMap,c=new WeakMap,p=new WeakMap,y=new WeakMap,u=new WeakMap,k=new WeakMap,v=new WeakMap,C=new WeakMap,E=new WeakMap,B=new WeakMap,F(x,"touchThreshold",75);var g,L;class J extends x{constructor(s){const{elementsList:o,sliderContent:h}=s;super(s);r(this,g,void 0);r(this,L,void 0);n(this,L,o),n(this,g,h),super.update()}destroy(){super.destroy()}updateContent(){const s=super.getCurrentSlide(),o=t(this,L)[s].querySelector("img"),h=t(this,L)[s].querySelector("a");o.dataset.source?t(this,g).src=o.dataset.source:h.href?t(this,g).src=h.href:t(this,g).src=o.src,t(this,g).alt=o.alt}}g=new WeakMap,L=new WeakMap;const d={gallery:document.querySelector(".gallery"),modalBackdrop:document.querySelector(".modal-backdrop"),buttonClose:document.querySelector(".close-button"),modalContent:document.querySelector(".modal-content"),modalClose:document.querySelector("#closeBtn"),loader:document.querySelector(".loader"),searchForm:document.querySelector(".search-form")};d.gallery.addEventListener("click",U);d.buttonClose.addEventListener("click",D);d.modalBackdrop.addEventListener("click",tt);d.modalClose.addEventListener("click",D);d.searchForm.addEventListener("submit",V);let q;const Q={slidesPerPage:1,prevBtnId:"prevBtn",nextBtnId:"nextBtn",dotsContainerId:"sliderDots",sliderContainerId:"modalContent",slidesCounterId:"slidesCounter",dotDefaultClass:"slider-dot",dotActiveClass:"active-dot",isDotContainText:!1,sliderContent:d.modalContent};function U(i){i.preventDefault();const e=i.target;if(!(e.classList.contains("card-cover")||e.classList.contains("card-cover-darkened")))return;const o=e.closest("li"),h=i.currentTarget.children,b=Array.from(h).indexOf(o);q=new J({...Q,currentSlide:b,elementsList:h}),Z()}function V(i){i.preventDefault();try{const e=i.currentTarget.search.value.trim();d.loader.style.display="block",H(e).then(s=>{st(s)}).catch(s=>{et(s)})}catch(e){console.log(e.message)}}function Z(){d.modalBackdrop.classList.add("is-open"),window.addEventListener("keydown",I)}function D(i){window.removeEventListener("keydown",I),d.modalBackdrop.classList.remove("is-open"),q.destroy()}function I(i){i.code===K&&D()}function tt(i){i.currentTarget===i.target&&D()}function et(i){d.searchForm.search.value="",d.loader.style.display="none",Y(i),d.gallery.style.backgroundColor=_,d.gallery.innerHTML=""}function st(i){d.searchForm.search.value="",d.loader.style.display="none",d.gallery.style.backgroundColor=$,j(i,d.gallery)}
//# sourceMappingURL=commonHelpers3.js.map
