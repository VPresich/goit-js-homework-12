var g=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var l=(e,t,r)=>(g(e,t,"read from private field"),r?r.call(e):t.get(e)),m=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},f=(e,t,r,s)=>(g(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r);import{S as L,G as k,c as v,g as y,K as w,a as B,B as E,b}from"./assets/gallery-pagination-2fa86ab6.js";/* empty css                      */import"./assets/vendor-9310f15c.js";var a,c;class I extends L{constructor(r){const{elementsList:s,sliderContent:n}=r;super(r);m(this,a,void 0);m(this,c,void 0);f(this,c,s),f(this,a,n),super.update()}destroy(){super.destroy()}updateContent(){const r=super.getCurrentSlide(),s=l(this,c)[r].querySelector("img"),n=l(this,c)[r].querySelector("a");s.dataset.source?l(this,a).src=s.dataset.source:n.href?l(this,a).src=n.href:l(this,a).src=s.src,l(this,a).alt=s.alt}}a=new WeakMap,c=new WeakMap;let i="";const h=20,o={gallery:document.querySelector(".gallery"),modalBackdrop:document.querySelector(".modal-backdrop"),buttonClose:document.querySelector(".close-button"),modalContent:document.querySelector(".modal-content"),modalClose:document.querySelector("#closeBtn"),loader:document.querySelector(".border-loader"),searchForm:document.querySelector(".search-form")};o.gallery.addEventListener("click",P);o.buttonClose.addEventListener("click",u);o.modalBackdrop.addEventListener("click",G);o.modalClose.addEventListener("click",u);o.searchForm.addEventListener("submit",R);const d=new k({data:[],fnCreateMarkup:v,fnGetImages:y,contentRef:o.gallery,elementsPerPage:h,searchStr:i});let C;const q={slidesPerPage:1,prevBtnId:"prevBtn",nextBtnId:"nextBtn",dotsContainerId:"sliderDots",sliderContainerId:"modalContent",slidesCounterId:"slidesCounter",dotDefaultClass:"slider-dot",dotActiveClass:"active-dot",isDotContainText:!1,sliderContent:o.modalContent};function P(e){e.preventDefault();const t=e.target;if(!(t.classList.contains("card-cover")||t.classList.contains("card-cover-darkened")))return;const s=t.closest("li"),n=e.currentTarget.children,S=Array.from(n).indexOf(s);C=new I({...q,currentSlide:S,elementsList:n,elementsListLength:n.length}),D()}function R(e){e.preventDefault(),i=e.currentTarget.search.value.trim(),o.loader.style.display="block",y(i,1).then(t=>{F(t)}).catch(t=>{x(t)})}function D(){o.modalBackdrop.classList.add("is-open"),window.addEventListener("keydown",p)}function u(e){window.removeEventListener("keydown",p),o.modalBackdrop.classList.remove("is-open"),C.destroy()}function p(e){e.code===w&&u()}function G(e){e.currentTarget===e.target&&u()}function x(e){o.searchForm.search.value="",o.loader.style.display="none",B(e),o.gallery.style.backgroundColor=E,d&&d.refresh()}function F(e){o.searchForm.search.value="",o.loader.style.display="none",o.gallery.style.backgroundColor=b,d&&d.refresh();const t=Math.ceil(e.totalHits/h);d.addData(e.hits,t,i)}
//# sourceMappingURL=commonHelpers3.js.map
