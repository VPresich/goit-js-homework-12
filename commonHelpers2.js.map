{"version":3,"file":"commonHelpers2.js","sources":["../src/img/icons.svg","../src/img/bi-x-octagon.svg","../src/js/common/create-msg.js","../src/js/task-11-1/search-form-handles.js"],"sourcesContent":["export default \"__VITE_ASSET__0c78aa03__\"","export default \"__VITE_ASSET__005e8834__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconXUrl from '../../img/bi-x-octagon.svg';\nimport iconOkUrl from '../../img/bi_check.svg';\n\nfunction createErrMsg(msg) {\n  iziToast.show({\n    message: msg,\n    messageColor: '#fafafb',\n    messageSize: '16px',\n    backgroundColor: '#fc5a5a',\n    position: 'topRight',\n    closeOnEscape: true,\n    close: true,\n    icon: 'Icomoon',\n    iconUrl: `${iconXUrl}`,\n    iconColor: '#fafafb',\n  });\n}\n\nfunction createOkMsg(msg) {\n  iziToast.show({\n    message: msg,\n    messageColor: '#fafafb',\n    messageSize: '16px',\n    backgroundColor: '#82C43C',\n    position: 'topRight',\n    closeOnEscape: true,\n    close: true,\n    icon: 'Icomoon',\n    iconUrl: `${iconOkUrl}`,\n    iconColor: '#fafafb',\n  });\n}\n\nexport { createErrMsg, createOkMsg };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport insertCardsToGallery from '../common/insert-cards-to-gallery.js';\nimport '../../css/layout/simple-lightbox-window.css';\nimport iconsUrl from '../../img/icons.svg';\n\nimport createCardsGallery from '../common/create-cards-gallery.js'; //For callbacks\nimport getImages from '../common/get-images.js'; //For promises\nimport { createErrMsg } from '../common/create-msg.js';\n\nimport { BGR_GALLERY, BGR_BODY } from '../common/constants.js';\n\nconst galleryRef = document.querySelector('.gallery');\nconst loaderRef = document.querySelector('.border-loader');\nconst searchForm = document.querySelector('.search-form');\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nlet slBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  nav: true,\n  navText: [\n    `<svg class=\"lightbox-button-icon-prev\" width=\"24\" height=\"24\" aria-label=\"icon arrow left\">\n          <use href=\"${iconsUrl}#icon-chevron-left\"></use>\n        </svg>`,\n    `<svg class=\"lightbox-button-icon-next\" width=\"24\" height=\"24\" aria-label=\"icon arrow right\">\n          <use href=\"${iconsUrl}#icon-chevron-right\"></use>\n        </svg>`,\n  ],\n  close: true,\n  closeText: `\n        <svg class=\"lightbox-close-icon\" width=\"16\" height=\"16\">\n          <use href=\"${iconsUrl}#close-form\"></use>\n        </svg>`,\n  enableKeyboard: true,\n  showCounter: true,\n  animationSlide: true,\n  loop: true,\n});\n\n// 1) With callbacks (Create gallery from server data)================================\n// function onSearchFormSubmit(event) {\n//   event.preventDefault();\n//   try {\n//     loaderRef.style.display = 'block';\n//     const searchStr = event.currentTarget.search.value.trim();\n//     insertCardsToGallery(searchStr, refreshOnSuccess, refreshOnError);\n//   } catch (error) {\n//     console.error('Error:', error);\n//     loaderRef.style.display = 'none';\n//   }\n// }\n\n// 2) With promises (Get data from server) ============================================\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  loaderRef.style.display = 'block';\n  const searchStr = event.currentTarget.search.value.trim();\n  getImages(searchStr)\n    .then(data => refreshOnSuccess(data))\n    .catch(msg => refreshOnError(msg));\n}\n\nfunction refreshOnError(msg) {\n  searchForm.search.value = '';\n  loaderRef.style.display = 'none';\n  createErrMsg(msg);\n  galleryRef.style.backgroundColor = BGR_BODY;\n  galleryRef.innerHTML = '';\n  slBox.refresh();\n}\n\nfunction refreshOnSuccess(data) {\n  searchForm.search.value = '';\n  loaderRef.style.display = 'none';\n  galleryRef.style.backgroundColor = BGR_GALLERY;\n  createCardsGallery(data.hits, galleryRef);\n  slBox.refresh();\n}\n"],"names":["iconsUrl","iconXUrl","createErrMsg","msg","iziToast","galleryRef","loaderRef","searchForm","onSearchFormSubmit","slBox","SimpleLightbox","event","searchStr","getImages","data","refreshOnSuccess","refreshOnError","BGR_BODY","BGR_GALLERY","createCardsGallery"],"mappings":"oKAAA,MAAeA,EAAA,iDCAAC,EAAA,wDCKf,SAASC,EAAaC,EAAK,CACzBC,EAAS,KAAK,CACZ,QAASD,EACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,SAAU,WACV,cAAe,GACf,MAAO,GACP,KAAM,UACN,QAAS,GAAGF,IACZ,UAAW,SACf,CAAG,CACH,CCLA,MAAMI,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAa,SAAS,cAAc,cAAc,EAExDA,EAAW,iBAAiB,SAAUC,CAAkB,EAExD,IAAIC,EAAQ,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,IAAK,GACL,QAAS,CACP;AAAA,uBACmBV;AAAA,gBAEnB;AAAA,uBACmBA;AAAA,eAEpB,EACD,MAAO,GACP,UAAW;AAAA;AAAA,uBAEUA;AAAA,gBAErB,eAAgB,GAChB,YAAa,GACb,eAAgB,GAChB,KAAM,EACR,CAAC,EAgBD,SAASQ,EAAmBG,EAAO,CACjCA,EAAM,eAAc,EAEpBL,EAAU,MAAM,QAAU,QAC1B,MAAMM,EAAYD,EAAM,cAAc,OAAO,MAAM,OACnDE,EAAUD,CAAS,EAChB,KAAKE,GAAQC,EAAiBD,CAAI,CAAC,EACnC,MAAMX,GAAOa,EAAeb,CAAG,CAAC,CACrC,CAEA,SAASa,EAAeb,EAAK,CAC3BI,EAAW,OAAO,MAAQ,GAC1BD,EAAU,MAAM,QAAU,OAC1BJ,EAAaC,CAAG,EAChBE,EAAW,MAAM,gBAAkBY,EACnCZ,EAAW,UAAY,GACvBI,EAAM,QAAO,CACf,CAEA,SAASM,EAAiBD,EAAM,CAC9BP,EAAW,OAAO,MAAQ,GAC1BD,EAAU,MAAM,QAAU,OAC1BD,EAAW,MAAM,gBAAkBa,EACnCC,EAAmBL,EAAK,KAAMT,CAAU,EACxCI,EAAM,QAAO,CACf"}