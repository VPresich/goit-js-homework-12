var K=Object.defineProperty;var Y=(o,e,s)=>e in o?K(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var _=(o,e,s)=>(Y(o,typeof e!="symbol"?e+"":e,s),s),O=(o,e,s)=>{if(!e.has(o))throw TypeError("Cannot "+s)};var t=(o,e,s)=>(O(o,e,"read from private field"),s?s.call(o):e.get(o)),a=(o,e,s)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,s)},n=(o,e,s,i)=>(O(o,e,"write to private field"),i?i.call(o,s):e.set(o,s),s),H=(o,e,s,i)=>({set _(r){n(o,e,r,s)},get _(){return t(o,e,i)}});import{a as z,i as W}from"./vendor-4fb3e0b3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const h of r)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const h={};return r.integrity&&(h.integrity=r.integrity),r.referrerpolicy&&(h.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?h.credentials="include":r.crossorigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(r){if(r.ep)return;r.ep=!0;const h=s(r);fetch(r.href,h)}})();async function V(){if(document.querySelectorAll(".gallery li").length!==0)try{window.scroll({top:0,left:0});const e=document.querySelector(".gallery"),s=e.firstChild.getBoundingClientRect().height,i=48;window.scrollBy({top:e.getBoundingClientRect().top+i,behavior:"smooth"});let r=e.getBoundingClientRect().top+i;for(;r<e.getBoundingClientRect().bottom-s-i;)r+=s+i,await new Promise(h=>setTimeout(h,1e3)),window.scrollBy({top:r,left:0,behavior:"smooth"})}catch(e){console.log(e)}}const J=o=>{const{largeImageURL:e,previewURL:s,tags:i,likes:r,views:h,comments:m,downloads:k}=o;return`<li class='card'> 
            <a class='card-link' href='${e}'>                    
              <div class='card-cover-inner'>                
                  <img class='card-cover'
                      src='${s}'
                      alt='${i}'                                                          
                  />                                                  
                <div class='card-cover-darkened'></div>
              </div>
            </a>                 
            <div class="card-info">
                <div class="field">
                    <span class="label">Likes</span>
                    <span class="value">${r}</span>    
                </div>
                <div class="field">
                    <span class="label">Views</span>
                    <span class="value">${h}</span>   
                </div>
                <div class="field">
                    <span class="label">Comments</span>
                    <span class="value">${m}</span>    
                </div>
                <div class="field">
                    <span class="label">Downloads</span>
                    <span class="value">${k}</span>    
                </div>
            </div>
        </li>`};function Q(o){return o.map(J).join("")}async function rt(o,e){try{document.body.style.cursor="none";const s=Q(o);e.innerHTML="",e.insertAdjacentHTML("beforeend",s),V()}catch(s){console.log(s)}finally{document.body.style.cursor="default"}}async function Z(o){try{return(await z.get(o)).data}catch(e){throw new Error(`Failed to fetch data: ${e.message}`)}}const at="Escape",tt="https://pixabay.com/api/",et="40880885-4e0dcc0a0fb77dafc41087a3a",lt="#ffffff",ht="#f5f5f5",q=40,dt="https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg",ct="Hokkaido Flower";async function ut(o,e=1){const s={key:et,q:encodeURIComponent(o),image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:q},i=`${tt}?${new URLSearchParams(s).toString()}`;try{const r=await Z(i);return r.hits.length?Promise.resolve(r):Promise.reject("Sorry, there are no images matching your search query. Please, try again!")}catch(r){console.error("Error:",r)}}const st="/goit-js-homework-12/assets/bi-x-octagon-73f29380.svg";function G(o){W.show({message:o,messageColor:"#fafafb",messageSize:"16px",backgroundColor:"#fc5a5a",position:"topRight",closeOnEscape:!0,close:!0,icon:"Icomoon",iconUrl:`${st}`,iconColor:"#fafafb"})}var d,u,f,p;class it{constructor(e,s,i){a(this,d,void 0);a(this,u,void 0);a(this,f,void 0);a(this,p,void 0);n(this,d,e),n(this,u,s),n(this,f,i),n(this,p,Array.from({length:i},()=>({display:!1,offset:0}))),this.setSlidesProperty()}set slidesPerPage(e){n(this,u,e)}get slidesPerPage(){return t(this,u)}get currentSlide(){return t(this,d)}set currentSlide(e){return n(this,d,e)}get slidesNumber(){return t(this,f)}set slidesNumber(e){return n(this,f,e)}refresh(){n(this,d,0),n(this,f,0),n(this,p,[])}setSlidesProperty(){t(this,p).forEach((e,s)=>{s>=t(this,d)&&s<t(this,d)+t(this,u)?e.display=!0:e.display=!1})}onPrevSlide(){t(this,d)>0&&(H(this,d)._--,t(this,p).forEach((e,s)=>{e.offset+=1})),this.setSlidesProperty()}onNextSlide(){t(this,d)<t(this,f)-t(this,u)&&(n(this,d,t(this,d)+1),t(this,p).forEach((e,s)=>{e.offset-=1})),this.setSlidesProperty()}goToSlide(e){const s=e-t(this,d);e<=t(this,f)-t(this,u)&&(n(this,d,t(this,d)+s),t(this,p).forEach(i=>{i.offset-=s})),this.setSlidesProperty()}isExistNext(){return t(this,d)>=t(this,f)-t(this,u)||t(this,f)<=t(this,u)}isExistPrev(){return t(this,d)===0||t(this,f)<=t(this,u)}isDisplaySlide(e){return t(this,p)[e].display}getOffsetSlide(e){return t(this,p)[e].offset}}d=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap;var S,l,g,y,c,E,v,B,D,T;const I=class{constructor({currentSlide:e,slidesPerPage:s,prevBtnId:i,nextBtnId:r,dotsContainerId:h="",sliderContainerId:m="",slidesCounterId:k="",dotDefaultClass:$="slider-dot",dotActiveClass:A="active-dot",isDotContainText:X=!1,elementsListLength:j}){a(this,S,0);a(this,l,void 0);a(this,g,void 0);a(this,y,void 0);a(this,c,void 0);a(this,E,void 0);a(this,v,void 0);a(this,B,void 0);a(this,D,void 0);a(this,T,void 0);n(this,l,new it(e,s,j)),i&&n(this,g,document.getElementById(i)),r&&n(this,y,document.getElementById(r)),h&&(n(this,c,document.getElementById(h)),n(this,B,$),n(this,D,A),n(this,T,X)),m&&n(this,v,document.getElementById(m)),k&&n(this,E,document.getElementById(k)),this.init()}init(){this.initBtnsFunction(),t(this,v)&&this.initTouchFunction(),t(this,c)&&this.createDots()}update(){this.updateContent(),this.updateButtons(),t(this,c)&&this.updateDisplayDots(),t(this,E)&&this.updateCounter()}refresh(){t(this,l).refresh(),t(this,E)&&(t(this,E).textContent=""),t(this,c).innerHTML&&(t(this,c).innerHTML="")}destroy(){this.removeBtnsFunction(),t(this,c)&&this.removeDots(),t(this,v)&&this.removeTouchFunction()}getCurrentSlide(){return t(this,l).currentSlide}getSlidesNumber(){return t(this,l).slidesNumber}initBtnsFunction(){t(this,g)&&t(this,g).addEventListener("click",this.onPrevBtnClick.bind(this)),t(this,y)&&t(this,y).addEventListener("click",this.onNextBtnClick.bind(this))}initTouchFunction(){n(this,S,0),t(this,v).addEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,v).addEventListener("touchmove",this.onSliderTouchMove.bind(this))}createDots(){t(this,c).innerHTML="";for(let e=0;e<t(this,l).slidesNumber;e+=1){const s=document.createElement("li");s.className=t(this,B),s.dataset.index=e,t(this,T)&&(s.textContent=`${e+1}`),t(this,c).appendChild(s)}t(this,c).addEventListener("click",this.onSliderDotsClick.bind(this))}async updateContent(){console.log(TODO in children)}updateButtons(){t(this,g).disabled=t(this,l).isExistPrev(),t(this,y).disabled=t(this,l).isExistNext(),t(this,g).style.display=t(this,l).slidesNumber>0?"flex":"none",t(this,y).style.display=t(this,l).slidesNumber>0?"flex":"none"}updateDisplayDots(){const e=t(this,c).children;for(let s=0;s<e.length;s+=1)s===t(this,l).currentSlide?(e[s].classList.add(t(this,D)),e[s].style.display="flex"):(e[s].classList.remove(t(this,D)),e[s].style.display=window.innerWidth<=375?"none":"")}updateCounter(){t(this,E).textContent=`${t(this,l).currentSlide+1+"/"+t(this,l).slidesNumber}`}removeBtnsFunction(){t(this,g)&&t(this,g).removeEventListener("click",this.onPrevBtnClick.bind(this)),t(this,y)&&t(this,y).removeEventListener("click",this.onNextBtnClick.bind(this))}removeDots(){t(this,c).innerHTML="",t(this,c).removeEventListener("click",this.onSliderDotsClick.bind(this))}removeTouchFunction(){t(this,v).removeEventListener("touchstart",this.onSliderTouchStart.bind(this)),t(this,v).removeEventListener("touchmove",this.onSliderTouchMove.bind(this))}onPrevBtnClick(){t(this,l).onPrevSlide(),this.update()}onNextBtnClick(){t(this,l).onNextSlide(),this.update()}onSliderDotsClick(e){const s=e.target;if(s.classList.contains(t(this,B))){const i=parseInt(s.dataset.index,10);t(this,l).goToSlide(i),this.update()}}onSliderTouchStart(e){n(this,S,e.touches[0].clientX)}onSliderTouchMove(e){const s=e.touches[0].clientX,i=t(this,S)-s;i>I.touchThreshold?(t(this,l).onNextSlide(),n(this,S,s),this.update()):i<-I.touchThreshold&&(t(this,l).onPrevSlide(),n(this,S,s),this.update())}addDot(){const e=document.createElement("li");e.className=t(this,B);const s=this.getSlidesNumber();e.dataset.index=s,t(this,T)&&(e.textContent=`${s+1}`),t(this,c).appendChild(e)}addNewPage(){this.addDot();const e=t(this,l).slidesNumber+1;t(this,l).slidesNumber=e,t(this,l).goToSlide(e-1),this.update()}};let U=I;S=new WeakMap,l=new WeakMap,g=new WeakMap,y=new WeakMap,c=new WeakMap,E=new WeakMap,v=new WeakMap,B=new WeakMap,D=new WeakMap,T=new WeakMap,_(U,"touchThreshold",75);var N,C,R,w,F,b,L,P,M,x;class ft extends U{constructor({data:s,elementsPerPage:i,contentRef:r,fnCreateMarkup:h,fnGetImages:m,searchStr:k,boxRef:$}){super({currentSlide:0,slidesPerPage:1,elementsListLength:0,prevBtnId:"prevPageBtn",nextBtnId:"nextPageBtn",dotsContainerId:"paginationDots",dotDefaultClass:"pagination-dot",dotActiveClass:"active-pagination-dot",isDotContainText:!0,sliderContainerId:""});a(this,N,q);a(this,C,void 0);a(this,R,void 0);a(this,w,void 0);a(this,F,void 0);a(this,b,void 0);a(this,L,0);a(this,P,"");a(this,M,void 0);a(this,x,null);n(this,C,s),n(this,R,h),n(this,F,m),n(this,w,r),n(this,N,i),n(this,b,document.getElementById("morePageBtn")),t(this,b).addEventListener("click",this.onMoreBtnClick.bind(this)),n(this,M,document.querySelector(".border-loader-pagination")),n(this,P,k),n(this,x,$),this.update(),this.moreBtnUpdate()}moreBtnUpdate(){t(this,b).style.display=t(this,C).length>0?"block":"none",this.getSlidesNumber()===t(this,L)&&(t(this,b).style.display="none",t(this,L)>1&&G("We're sorry, but you've reached the end of search results."))}refresh(){super.refresh(),n(this,P,""),n(this,C,[]),t(this,w).innerHTML="",this.update(),this.moreBtnUpdate()}async updateContent(){const i=super.getCurrentSlide()*t(this,N),r=t(this,C).slice(i,i+t(this,N));await t(this,R).call(this,r,t(this,w)),t(this,x)&&t(this,x).refresh()}addData(s,i,r){t(this,C).push(...s),n(this,P,r),n(this,L,i),super.addNewPage(),this.moreBtnUpdate()}onMoreBtnClick(){const s=this.getSlidesNumber()+1;t(this,M).style.display="block",t(this,b).style.visible="none",t(this,F).call(this,t(this,P),s).then(i=>{this.addData(i.hits,t(this,L),t(this,P))}).catch(i=>{G(i),t(this,b).style.display="none"}).finally(()=>{t(this,M).style.display="none",t(this,x)&&t(this,x).refresh(),t(this,b).style.visible="flex"})}}N=new WeakMap,C=new WeakMap,R=new WeakMap,w=new WeakMap,F=new WeakMap,b=new WeakMap,L=new WeakMap,P=new WeakMap,M=new WeakMap,x=new WeakMap;export{ht as B,q as D,ft as G,at as K,U as S,G as a,lt as b,rt as c,dt as d,ct as e,ut as g};
//# sourceMappingURL=gallery-pagination-840a8c45.js.map
